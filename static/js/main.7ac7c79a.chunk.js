/*! For license information please see main.7ac7c79a.chunk.js.LICENSE.txt */
(this.webpackJsonpweb_client=this.webpackJsonpweb_client||[]).push([[0],{123:function(e,t,n){},148:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),r=n.n(c),i=n(11),s=n.n(i),o=(n(123),n(35)),l=n(17),j=n(51),d=n(13),u=n(104),b=n(210),h=n(215),m=n(186),p=n(211),O=n(68),x=n(189),f=Object(m.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center"}}}));function g(){var e=f(),t=Object(d.g)();return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(O.a,{variant:"h6",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(a.jsx)(x.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:function(){t.push("/login")},children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]})}var v=r.a.createContext(),y=n(214),N=n(199),w=n(195),k=n(197),C=n(198),S=n(190),D=n(191),W=n(192),A=n(193),R=n(194),B=n(196),I=Object(m.a)((function(e){return{root:{height:"100%",padding:e.spacing(0,1)},drawerItem:{borderRadius:e.spacing(1,1,1,1)},paper:{width:300,border:"none"},list:{padding:e.spacing(1)}}})),_=[{title:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",icon:Object(a.jsx)(S.a,{}),path:"/"},{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u043e\u0442\u0430",icon:Object(a.jsx)(D.a,{}),path:"/app/bot_settings"},{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u043e\u043c\u0430\u043d\u0434",icon:Object(a.jsx)(W.a,{}),path:"/app/command_settings"},{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b",icon:Object(a.jsx)(A.a,{}),path:"/app/keyboard_settings"},{title:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",icon:Object(a.jsx)(R.a,{}),path:"/app/statistics"}];function E(e){var t=e.text,n=e.icon,c=e.onClick,r=I();return Object(a.jsxs)(w.a,{button:!0,className:r.drawerItem,onClick:function(){return c()},children:[Object(a.jsx)(B.a,{children:n}),Object(a.jsx)(k.a,{primary:t})]})}function T(e){var t=e.open,n=I(),r=Object(d.g)(),i=Object(c.useContext)(v).toggleDrawer;return Object(a.jsxs)(y.a,{anchor:"left",open:t,onClose:function(){return i()},classes:{paper:n.paper},children:[Object(a.jsx)(C.a,{children:Object(a.jsx)(O.a,{variant:"h6",children:"Dorm bot"})}),Object(a.jsx)(N.a,{className:n.list,children:_.map((function(e){return Object(a.jsx)(E,{text:e.title,onClick:function(){return t=e.path,r.push(t),void i();var t},icon:e.icon},e.path)}))})]})}var L,z=n(202),P=n(100),J=n.n(P),M=n(201),F=n(203),H=n(200),K=n(32),$=n(49),q=n.n($),G=n(65),Q=n(50),U=n(55),V=n.n(U),X=function(e){e?V.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete V.a.defaults.headers.common.Authorization},Y=function(e,t){return V.a.post("https://polytech-dorm-bot.herokuapp.com/api/v1/auth/login",{username:e,password:t})},Z=Object(Q.a)("auth/login",function(){var e=Object(G.a)(q.a.mark((function e(t){var n,a,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.password,e.next=3,Y(n,a);case 3:return c=e.sent,e.abrupt("return",{username:n,token:c.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ee=Object(Q.b)({name:"auth",initialState:{user:null,isAuthenticated:!1,status:"idle",error:null},reducers:{logout:function(e,t){X(null),e.isAuthenticated=!1,e.user=null}},extraReducers:(L={},Object(K.a)(L,Z.pending,(function(e,t){e.status="loading"})),Object(K.a)(L,Z.fulfilled,(function(e,t){X(t.payload.token),e.status="succeeded",e.user=t.payload,e.isAuthenticated=!0})),Object(K.a)(L,Z.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),L)}),te=ee.actions.logout,ne=ee.reducer,ae=n(213),ce=Object(m.a)((function(e){return{root:{display:"flex",flexDirection:"column",padding:e.spacing(2)},userInfo:{marginBottom:e.spacing(2)}}}));function re(e){var t=e.anchorEl,n=e.onClose,c=ce(),r=Object(l.b)(),i=Object(l.c)((function(e){return e.auth.user}));return Object(a.jsx)(H.a,{open:Boolean(t),anchorEl:t,onClose:n,elevation:2,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(a.jsxs)("div",{className:c.root,children:[Object(a.jsxs)("div",{className:c.userInfo,children:[Object(a.jsx)(O.a,{variant:"body1",color:"textSecondary",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0432\u0445\u043e\u0434 \u043a\u0430\u043a:"}),Object(a.jsx)(O.a,{variant:"body1",component:"span",children:Object(a.jsx)(ae.a,{fontWeight:"fontWeightMedium",children:i.username})})]}),Object(a.jsx)(x.a,{onClick:function(){r(te())},children:"\u0412\u044b\u0439\u0442\u0438"})]})})}var ie=Object(m.a)((function(e){return{root:{},menuButton:{marginRight:e.spacing(2)},title:{},menu:{marginLeft:"auto"}}}));function se(){var e=ie(),t=Object(c.useContext)(v).toggleDrawer,n=Object(c.useState)(null),r=Object(o.a)(n,2),i=r[0],s=r[1];return Object(a.jsx)(M.a,{color:"inherit",position:"fixed",elevation:0,children:Object(a.jsxs)(C.a,{children:[Object(a.jsx)(z.a,{edge:"start",className:e.menuButton,color:"inherit",onClick:function(){return t()},children:Object(a.jsx)(J.a,{})}),Object(a.jsx)(O.a,{variant:"h6",className:e.title,children:"Dorm bot"}),Object(a.jsx)("div",{className:e.menu,children:Object(a.jsx)(z.a,{color:"inherit",onClick:function(e){s(e.currentTarget)},children:Object(a.jsx)(F.a,{})})}),Object(a.jsx)(re,{anchorEl:i,onClose:function(){s(null)}})]})})}var oe=Object(m.a)((function(e){return{root:{maxWidth:"100%",display:"flex",flexDirection:"column"}}}));function le(){var e=oe();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(O.a,{variant:"h6",children:"BotSettingsPage"})})}var je,de=n(101),ue=Object(Q.a)("commands/fetchCommands",Object(G.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.get("https://polytech-dorm-bot.herokuapp.com/api/v1/commands");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),be=Object(Q.b)({name:"commands",initialState:{commands:[],status:"idle",error:null},reducers:{},extraReducers:(je={},Object(K.a)(je,ue.pending,(function(e,t){e.status="loading"})),Object(K.a)(je,ue.fulfilled,(function(e,t){e.status="succeeded",e.commands=t.payload})),Object(K.a)(je,ue.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),je)}),he=function(e){return e.commands.commands};Object(de.a)(be.actions);var me=be.reducer,pe=n(209),Oe=n(206),xe=n(207),fe=n(204),ge=n(216),ve=n(208),ye=n(217),Ne=n(4),we=n(102),ke=n.n(we),Ce=n(205),Se=Object(m.a)((function(e){return{root:{padding:e.spacing(2),marginTop:e.spacing(1),marginBottom:e.spacing(1)},header:{display:"flex",alignItems:"center"},title:{marginRight:e.spacing(1)},content:{paddingLeft:0,paddingRight:0},contentSubtitle:{marginTop:e.spacing(2)},actions:{paddingLeft:0,paddingRight:0},synonyms:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1)}},response:{display:"flex",overflow:"auto",paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},responseText:{whiteSpace:"pre-line"},active:{marginRight:e.spacing(2)},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}}));function De(e){var t=e.mainName,n=e.isActive,r=e.priority,i=e.synonyms,s=e.responses,l=Se(),j=Object(c.useState)(!1),d=Object(o.a)(j,2),u=d[0],b=d[1];return Object(a.jsxs)(fe.a,{variant:"outlined",className:l.root,children:[Object(a.jsxs)("div",{className:l.header,children:[Object(a.jsx)(ge.a,{color:"primary",className:l.active,checked:n,onChange:function(e){console.log(e.target.checked)}}),Object(a.jsx)(O.a,{className:l.title,variant:"h6",children:t}),Object(a.jsx)(O.a,{color:"textSecondary",variant:"subtitle2",children:r}),Object(a.jsx)(z.a,{className:Object(Ne.a)(l.expand,Object(K.a)({},l.expandOpen,u)),onClick:function(){return b(!u)},children:Object(a.jsx)(ke.a,{})})]}),Object(a.jsx)(Ce.a,{in:u,children:Object(a.jsxs)(Oe.a,{className:l.content,children:[Object(a.jsx)(O.a,{className:l.contentSubtitle,variant:"subtitle2",children:"\u0421\u0438\u043d\u043e\u043d\u0438\u043c\u044b"}),Object(a.jsx)("div",{className:l.synonyms,children:i.map((function(e){return Object(a.jsx)(ye.a,{label:e.synonym},e.id)}))}),Object(a.jsx)(O.a,{className:l.contentSubtitle,variant:"subtitle2",children:"\u041e\u0442\u0432\u0435\u0442\u044b"}),Object(a.jsx)(N.a,{children:s.map((function(e,t){return Object(a.jsxs)("div",{children:[Object(a.jsx)(w.a,{className:l.response,children:Object(a.jsx)(O.a,{className:l.responseText,children:e.response})}),t!==s.length-1&&Object(a.jsx)(xe.a,{})]},e.id)}))})]})}),Object(a.jsxs)(ve.a,{className:l.actions,children:[Object(a.jsx)(x.a,{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(a.jsx)(x.a,{children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})}var We=Object(m.a)((function(e){return{root:{maxWidth:"100%",display:"flex",flexDirection:"column",alignItems:"center"},info:{marginBottom:e.spacing(4)},commands:{width:"100%"}}}));function Ae(){var e=We(),t=Object(l.b)(),n=Object(l.c)(he),r=Object(l.c)((function(e){return e.commands.status}));return Object(c.useEffect)((function(){"idle"===r&&t(ue())}),[r,t]),Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(O.a,{className:e.info,children:"\u041d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0434\u043b\u044f \u0431\u043e\u0442\u0430, \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435."}),"loading"===r&&Object(a.jsx)(pe.a,{}),Object(a.jsx)("div",{className:e.commands,children:"succeeded"===r&&n.map((function(e){return Object(a.jsx)(De,{mainName:e.name,isActive:e.isActive,priority:e.priority,synonyms:e.commandSynonyms,responses:e.commandResponses},e.id)}))})]})}var Re=Object(m.a)((function(e){return{root:{maxWidth:"100%",display:"flex",flexDirection:"column"}}}));function Be(){var e=Re();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(O.a,{variant:"h6",children:"KeyboardSettingsPage"})})}var Ie=Object(m.a)((function(e){return{root:{maxWidth:"100%",display:"flex",flexDirection:"column"}}}));function _e(){var e=Ie();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(O.a,{variant:"h6",children:"StatisticsPage"})})}var Ee=n(78),Te=n(212),Le=n(150),ze=Object(m.a)((function(e){return{root:{display:"flex",flexDirection:"column"},card:{display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(4)},input:{marginTop:e.spacing(4)}}}));function Pe(){var e=ze(),t=Object(l.b)(),n=Object(d.g)(),r=Object(c.useState)("user"),i=Object(o.a)(r,2),s=i[0],j=i[1],u=Object(c.useState)("user"),b=Object(o.a)(u,2),h=b[0],m=b[1],p=Object(l.c)((function(e){return e.auth.status})),f=Object(l.c)((function(e){return e.auth.isAuthenticated}));Object(l.c)((function(e){return e.auth.error}));return Object(c.useEffect)((function(){f&&n.push("/app/bot_settings")}),[n,f]),Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(Le.a,{in:!0,children:Object(a.jsxs)(Ee.a,{variant:"outlined",className:e.card,children:[Object(a.jsx)(O.a,{variant:"h6",children:"\u0412\u0445\u043e\u0434"}),Object(a.jsx)(Te.a,{className:e.input,id:"username",label:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",value:s,onChange:function(e){return j(e.target.value)}}),Object(a.jsx)(Te.a,{className:e.input,id:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",value:h,onChange:function(e){return m(e.target.value)}}),Object(a.jsx)(x.a,{className:e.input,fullWidth:!0,variant:"contained",color:"primary",disabled:"loading"===p,disableElevation:!0,onClick:function(){return function(e,n){t(Z({username:e,password:n}))}(s,h)},children:"\u0412\u043e\u0439\u0442\u0438"})]})})})}var Je=Object(u.a)({palette:{primary:{main:"#304ffe",light:"#7b7cff",dark:"#0026ca"},secondary:{main:"#1de9b6",light:"#1de9b6",dark:"#00b686"},background:{light:"#f1f3f4"}},typography:{fontFamily:["Roboto","Helvetica","Arial","sans-serif"].join(",")}}),Me=Object(m.a)((function(e){return{root:{},content:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:e.spacing(4)}}}));function Fe(e){var t=e.children,n=Me(),r=Object(c.useState)(!1),i=Object(o.a)(r,2),s=i[0],l=i[1];return Object(a.jsx)("div",{children:Object(a.jsx)(v.Provider,{value:{toggleDrawer:function(){l(!s)}},children:Object(a.jsxs)("div",{children:[Object(a.jsx)(se,{}),Object(a.jsx)(C.a,{}),Object(a.jsx)(T,{open:s}),Object(a.jsx)(b.a,{maxWidth:"md",className:n.content,children:t})]})})})}function He(e){var t=e.children,n=Me();return Object(a.jsx)("div",{children:Object(a.jsx)(b.a,{maxWidth:"md",className:n.content,children:t})})}function Ke(){var e=Object(l.c)((function(e){return e.auth.isAuthenticated}));return Object(a.jsx)(p.a,{theme:Object(h.a)(Je),children:Object(a.jsx)(j.a,{children:Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{path:"/app",render:function(t){var n=t.match.path;return e?Object(a.jsx)(Fe,{children:Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{path:"".concat(n,"/bot_settings"),exact:!0,component:le}),Object(a.jsx)(d.b,{path:"".concat(n,"/command_settings"),exact:!0,component:Ae}),Object(a.jsx)(d.b,{path:"".concat(n,"/keyboard_settings"),exact:!0,component:Be}),Object(a.jsx)(d.b,{path:"".concat(n,"/statistics"),exact:!0,component:_e}),Object(a.jsx)(d.a,{from:"".concat(n,"/*"),to:"/"})]})}):Object(a.jsx)(d.a,{to:"/"})}}),Object(a.jsx)(d.b,{exact:!0,children:Object(a.jsx)(He,{children:Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{path:"/",exact:!0,component:g}),Object(a.jsx)(d.b,{path:"/login",exact:!0,component:Pe}),Object(a.jsx)(d.a,{from:"/*",to:"/"})]})})}),Object(a.jsx)(d.a,{from:"*",to:"/"})]})})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $e=n(18),qe=n(103),Ge=Object($e.c)({commands:me,auth:ne}),Qe=Object($e.e)(Ge,Object($e.a)(qe.a));s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(l.a,{store:Qe,children:Object(a.jsx)(Ke,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[148,1,2]]]);
//# sourceMappingURL=main.7ac7c79a.chunk.js.map